{"version":3,"sources":["firestore.js","ObservableContactsStore.js","New(Edit)Contact.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firestore","settings","timestampsInSnapshots","ObservableContactsStore","_this","this","Object","classCallCheck","contacts","mobx","collection","get","then","querySnapshot","forEach","doc","addContacts","data","name","email","id","createClass","key","value","docRefId","push","decorate","observable","ClearFix","styled","div","_templateObject","NameInput","input","_templateObject2","EmailInput","_templateObject3","Button","button","_templateObject4","props","ok","cancel","Buttons","_templateObject5","DeleteButton","_templateObject6","NewContactForm","react_default","a","createElement","Main","defaultValue","Link","to","onClick","newName","document","getElementById","newEmail","add","docRef","contactstore","catch","error","console","Component","EditContactForm","observer","_Component2","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","idx","location","state","New_Edit_Contact_DeleteButton","splice","delete","set","searchstore","Create","App_templateObject","App_templateObject2","Row","App_templateObject3","SearchBox","App_templateObject4","SearchInput","App_templateObject5","Magnifire","App_templateObject6","TableContainer","_templateObject7","_templateObject8","Delete","_templateObject9","DeleteBtn","_templateObject10","Name","h5","_templateObject11","Email","h6","_templateObject12","Contact","_templateObject13","StyledLink","_templateObject14","CreationButton","_this$props","store","deleteContact","TableRow","_Component3","_this$props2","App_ClearFix","pathname","App_DeleteButton","Search","_this$props3","result","className","type","getElementsByTagName","timeout","handleChange","length","filter","indexOf","onkeyup","clearTimeout","setTimeout","setupUpdater","focus","Table","_Component5","map","index","App_TableRow","AddressBook","App_Search","App_Table","App_CreationButton","AddressBookSwitch","Switch","Route","exact","path","component","App","BrowserRouter","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.8c5600f7.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyCq3TKPzX7Tscb3iHFUYGi1VupDxemijeM\",\r\n    authDomain: \"address-book-testtask.firebaseapp.com\",\r\n    databaseURL: \"https://address-book-testtask.firebaseio.com\",\r\n    projectId: \"address-book-testtask\",\r\n    storageBucket: \"address-book-testtask.appspot.com\",\r\n    messagingSenderId: \"1011142258800\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nconst db = firebase.firestore();\r\n\r\ndb.settings({\r\n    timestampsInSnapshots: true\r\n});\r\n\r\nexport {\r\n    db\r\n};","import * as mobx from \"mobx\";\r\nimport {observable, decorate} from \"mobx\";\r\nimport {db} from \"./firestore\";\r\n\r\nexport  class ObservableContactsStore {\r\n    contacts = [];\r\n\r\n    constructor() {\r\n        mobx.autorun(() => {\r\n            db.collection(\"contacts\").get().then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    this.addContacts(doc.data().name,doc.data().email,doc.id)\r\n                });\r\n            });\r\n        })\r\n    }\r\n\r\n    addContacts(name,email,docRefId){\r\n        this.contacts.push({\r\n            name: name,\r\n            email: email,\r\n            docRefId: docRefId\r\n        })\r\n    }\r\n\r\n\r\n}\r\ndecorate(ObservableContactsStore,{\r\n    contacts:observable\r\n});","import React, {Component} from 'react';\r\nimport {contactstore,Main} from \"./App\";\r\nimport {db} from \"./firestore\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {observer} from \"mobx-react\";\r\n\r\n\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst NameInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 20px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst EmailInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 30px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst Button = styled.button`\r\n    background: ${props => props.ok ? \"green\" : \"white\"};\r\n    color: ${props => props.ok ? \"white\" : \"black\"};\r\n    border: ${props => props.cancel ? \"1px solid\" : \"none\"}\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    ${props => props.ok ? \"margin-left: 10px\" : \"margin-right: 10px\"};\r\n    border-radius: 5px;\r\n`;\r\nconst Buttons = styled.div`\r\n    width: 220px;\r\n    padding-left: 280px;\r\n`;\r\nconst DeleteButton = styled.button`\r\n    margin-left: 90px;\r\n    float: left;\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    border-radius: 5px;\r\n    background: red;\r\n    color: white;\r\n`;\r\n\r\nclass NewContactForm extends Component{\r\n    render() {\r\n        function AddContact() {\r\n            var newName =  document.getElementById(\"name\").value;\r\n            var newEmail = document.getElementById(\"email\").value;\r\n            db.collection(\"contacts\").add({\r\n                name: newName,\r\n                email: newEmail\r\n            })\r\n                .then(function (docRef) {\r\n                contactstore.addContacts(newName,newEmail,docRef.id);\r\n            })\r\n                .catch(function(error) {\r\n                    console.error(\"Error adding document: \", error);\r\n                });\r\n        }\r\n\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book/New contact</h4>\r\n                <Main>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} defaultValue={\"Name\"}/>\r\n                        <EmailInput id={\"email\"} defaultValue={\"Email\"}/>\r\n                        <Buttons>\r\n                            <Link to={\"/test-task/\"}><Button cancel>Cancel</Button></Link>\r\n                            <Link to={\"/test-task/\"}><Button ok onClick={AddContact}>OK</Button></Link>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n                </Main>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst EditContactForm = observer(class EditContactForm extends Component{\r\n    render() {\r\n        const {idx} = this.props.location.state;\r\n        const docRefId = contactstore.contacts[idx].docRefId;\r\n\r\n        function deleteContact(idx) {\r\n            contactstore.contacts.splice(idx, 1);\r\n            db.collection(\"contacts\").doc(docRefId).delete();\r\n        }\r\n\r\n        function onEdit() {\r\n            contactstore.contacts[idx].name = document.getElementById(\"name\").value;\r\n            contactstore.contacts[idx].email = document.getElementById(\"email\").value;\r\n            db.collection(\"contacts\").doc(contactstore.contacts[idx].docRefId).set({\r\n                name: contactstore.contacts[idx].name,\r\n                email: contactstore.contacts[idx].email\r\n            }).catch(function (error) {\r\n                console.error(\"Error editing document: \", error);\r\n            });\r\n        }\r\n        //TODO:Fix-bug-with-deleting\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book/Edit contact</h4>\r\n                <Main>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} defaultValue={contactstore.contacts[idx].name}/>\r\n                        <EmailInput id={\"email\"} defaultValue={contactstore.contacts[idx].email}/>\r\n                        <Link to={\"/test-task/\"}><DeleteButton onClick={deleteContact}>Delete</DeleteButton></Link>\r\n                        <Buttons>\r\n                            <Link to={\"/test-task/\"}><Button cancel>Cancel</Button></Link>\r\n                            <Link to={\"/test-task/\"}><Button ok onClick={onEdit}>Ok</Button></Link>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n                </Main>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n});\r\n\r\n\r\nexport {\r\n    NewContactForm,\r\n    EditContactForm\r\n}\r\n","import React, {Component} from 'react';\r\nimport {observer} from \"mobx-react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {ObservableContactsStore} from \"./ObservableContactsStore\";\r\nimport {NewContactForm,EditContactForm} from \"./New(Edit)Contact\";\r\nimport {db} from \"./firestore\";\r\n\r\n\r\nconst contactstore = new ObservableContactsStore();\r\nconst searchstore = new ObservableContactsStore();\r\n\r\n\r\n\r\n\r\n\r\nconst Create = styled.div`\r\n        cursor: pointer;\r\n        text-align: center;\r\n        border: 1px solid;\r\n`;\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst Row = styled.div`\r\n    border: 1px solid;\r\n    padding: 5px;\r\n    &:first-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(n+3){\r\n    border-top: none;\r\n    }\r\n    &:last-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(2n){\r\n    background-color: lightgray;    \r\n    }\r\n`;\r\nconst SearchBox = styled.div`\r\n    margin-bottom: 10px;\r\n    border: 1px solid;\r\n    width: 600px;\r\n    font: bold 22px 'Arial';\r\n`;\r\nconst SearchInput = styled.input`\r\n        width: 587.437px;\r\n        height: 29.6px;\r\n        float: left;\r\n`;\r\nconst Magnifire = styled.div`\r\n        -webkit-transform: rotate(-45deg);\r\n        -moz-transform: rotate(-45deg);\r\n        -o-transform: rotate(-45deg);\r\n        transform: rotate(-45deg);\r\n        float:left;\r\n`;\r\nconst TableContainer = styled.div`\r\n    width: 600px;\r\n    \r\n`;\r\nconst Main = styled.div`\r\n    width: 600px;\r\n    margin: 50px auto;\r\n    \r\n    > h4 {\r\n        font: bold 22px 'Arial';\r\n        margin-bottom: 10px;\r\n        text-align: center;\r\n    }\r\n`;\r\nconst Delete = styled.div`\r\n    position: relative;\r\n    left: 560px;\r\n    top: -20px;\r\n`;\r\nconst DeleteBtn = styled.button`\r\n    background: none;\r\n    cursor: pointer;\r\n`;\r\nconst Name = styled.h5`\r\n    position: relative;\r\n    display: inline-block;\r\n    border-bottom: 2px dotted black;\r\n    font: bold 16px 'Arial';\r\n    > span {\r\n        visibility: hidden;\r\n        color: black;\r\n        width: 90px;\r\n        background: white;\r\n        text-align: center;\r\n        border-radius: 6px;\r\n        padding: 5px;\r\n        border: 1px solid black;\r\n        position: absolute;\r\n        z-index: 1;\r\n        top: -10px;\r\n        left: 110%;\r\n    }\r\n    &:hover > span {\r\n        visibility: visible;\r\n        font: 14px 'Arial';\r\n    }\r\n`;\r\nconst Email = styled.h6`\r\n        font: 14px 'Arial';\r\n`;\r\nconst Contact = styled.div`\r\n    float:left;\r\n`;\r\nconst StyledLink = styled(Link)`\r\n    text-decoration:none;\r\n    color: black;\r\n`;\r\n\r\n\r\n\r\nclass CreationButton extends Component{\r\n    render() {\r\n        return (\r\n            <Create>\r\n                <div>\r\n                    <StyledLink to={\"/test-task/new\"}>\r\n                        <h3> + </h3>\r\n                    </StyledLink>\r\n                </div>\r\n            </Create>\r\n        );\r\n    }\r\n}\r\n\r\nclass DeleteButton extends Component {\r\n    render() {\r\n        const {store, idx} = this.props;\r\n        const docRefId = store.contacts[idx].docRefId;\r\n\r\n        function deleteContact(idx) {\r\n            store.contacts.splice(idx, 1);\r\n            db.collection(\"contacts\").doc(docRefId).delete();\r\n        }\r\n\r\n        return (\r\n            <Delete>\r\n                <DeleteBtn onClick={() => deleteContact(idx)}>X</DeleteBtn>\r\n            </Delete>\r\n        );\r\n    }\r\n}\r\n\r\nconst TableRow = observer(class TableRow extends Component{\r\n    render() {\r\n        const {store, idx} = this.props;\r\n\r\n        return (\r\n            <Row>\r\n                <ClearFix>\r\n                <Contact>\r\n                    <div>\r\n                        <Name>\r\n                            <StyledLink to={{\r\n                                pathname: \"/test-task/edit\",\r\n                                state: {\r\n                                    idx: idx\r\n                                }}}>\r\n                                {store.contacts[idx].name}\r\n                            </StyledLink>\r\n                            <span> click to edit </span>\r\n                        </Name>\r\n                    </div>\r\n                    <div>\r\n                        <Email>{store.contacts[idx].email}</Email>\r\n                    </div>\r\n                </Contact>\r\n                </ClearFix>\r\n                <DeleteButton store = {store} idx={idx}/>\r\n            </Row>\r\n        );\r\n    }\r\n});\r\n\r\nclass Search extends Component{\r\n    render() {\r\n        const {store, result} = this.props;\r\n\r\n        return (\r\n            <SearchBox>\r\n                <ClearFix>\r\n                <Magnifire className={\"left\"}>\r\n                    &#9906;\r\n                </Magnifire>\r\n                <SearchInput type={\"text\"} onClick={setupStarter}/>\r\n                </ClearFix>\r\n            </SearchBox>\r\n        );\r\n\r\n        function setupUpdater(){\r\n            let input=document.getElementsByTagName('input')[0]\r\n                , timeout=null;\r\n            function handleChange(){\r\n                result.contacts.splice(0,result.contacts.length);\r\n                store.contacts.filter(value =>{\r\n                    if ((value.name.indexOf(input.value) >= 0) || (value.email.indexOf(input.value) >= 0)){\r\n                        result.addContacts(value.name,value.email,value.docRefId);\r\n                        //TODO: Visualisation of search results.\r\n                    }\r\n                    return 0;\r\n                })\r\n            }\r\n            function eventHandler(){\r\n                if(timeout) clearTimeout(timeout);\r\n                timeout = setTimeout(handleChange, 500);\r\n            }\r\n            input.onkeyup = eventHandler;\r\n        }\r\n        function setupStarter() {\r\n            setupUpdater();\r\n            document.getElementsByTagName('input')[0].focus();\r\n        }\r\n    }\r\n}\r\n\r\nconst Table = observer(class Table extends Component{\r\n    render() {\r\n        const store = this.props.store;\r\n\r\n        return (\r\n            <TableContainer>\r\n                {store.contacts.map((value, index) => <TableRow key={index} store={store} idx={index}/>)}\r\n            </TableContainer>\r\n        );\r\n    }\r\n});\r\n\r\nclass AddressBook extends Component {\r\n    render() {\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book</h4>\r\n                <Search store = {contactstore} result = {searchstore}/>\r\n                <Table store = {contactstore}/>\r\n                <CreationButton store = {contactstore}/>\r\n            </Main>\r\n        );\r\n    }\r\n}\r\n\r\nclass AddressBookSwitch extends Component{\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Switch>\r\n                    <Route exact path={\"/test-task/\"} component={AddressBook}/>\r\n                    <Route path={\"/test-task/edit\"} component={EditContactForm}/>\r\n                    <Route path={\"/test-task/new\"} component={NewContactForm}/>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass App extends Component{\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Route component={AddressBookSwitch}/>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\nexport {\r\n    contactstore,\r\n    Main\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./App\"\r\n\r\nReactDOM.render( <App/>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}