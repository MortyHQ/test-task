{"version":3,"sources":["firestore.js","FieldsCheck.js","NewContact.js","EditContact.js","ObservableContactsStore.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firestore","setupStarter","email","document","getElementById","name","timeout","handleChange","test","validateEmail","value","style","disabled","onkeyup","onclick","onkeydown","ondblclick","clearTimeout","setTimeout","setupUpdater","focus","settings","timestampsInSnapshots","ClearFix","styled","div","_templateObject","NameInput","input","_templateObject2","EmailInput","_templateObject3","Button","button","_templateObject4","props","ok","cancel","Buttons","_templateObject5","NewContactForm","react_default","a","createElement","Main","id","placeholder","onClick","Link","to","newName","newEmail","collection","add","then","docRef","contactstore","addContacts","catch","error","console","log","Component","EditContact_templateObject","EditContact_templateObject2","EditContact_templateObject3","EditContact_templateObject4","EditContact_templateObject5","DeleteButton","_templateObject6","EditContactForm","delete","idx","doc","contacts","docRefId","splice","onEdit","set","_this2","this","location","state","EditContact_ClearFix","EditContact_NameInput","defaultValue","EditContact_EmailInput","pathname","EditContact_DeleteButton","EditContact_Buttons","EditContact_Button","ObservableContactsStore","_this","Object","classCallCheck","mobx","get","querySnapshot","forEach","data","push","decorate","observable","searchstore","Create","App_templateObject","App_templateObject2","Row","App_templateObject3","SearchBox","App_templateObject4","SearchInput","App_templateObject5","Magnifire","App_templateObject6","TableContainer","_templateObject7","_templateObject8","Delete","_templateObject9","DeleteBtn","_templateObject10","Name","h5","_templateObject11","Email","h6","_templateObject12","Contact","_templateObject13","StyledLink","_templateObject14","CreationButton","_this$props","store","deleteContact","TableRow","observer","_Component3","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","_this$props2","App_ClearFix","App_DeleteButton","Search","lookFor","className","type","getElementsByTagName","Table","_Component5","map","index","App_TableRow","AddressBook","_Component6","_getPrototypeOf2","_len","length","args","Array","_key","call","concat","lookingFor","setState","filter","contact","indexOf","App_Search","App_Table","App_CreationButton","AddressBookSwitch","Switch","Route","exact","path","component","App","BrowserRouter","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.8331e9f4.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyCq3TKPzX7Tscb3iHFUYGi1VupDxemijeM\",\r\n    authDomain: \"address-book-testtask.firebaseapp.com\",\r\n    databaseURL: \"https://address-book-testtask.firebaseio.com\",\r\n    projectId: \"address-book-testtask\",\r\n    storageBucket: \"address-book-testtask.appspot.com\",\r\n    messagingSenderId: \"1011142258800\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nconst db = firebase.firestore();\r\n\r\ndb.settings({\r\n    timestampsInSnapshots: true\r\n});\r\n\r\nexport {\r\n    db\r\n};","function  validateEmail(email) {\r\n    var regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return regex.test(email);\r\n}\r\n\r\nfunction setupUpdater(){\r\n    let email = document.getElementById('email'),\r\n        name = document.getElementById('name'),\r\n        timeout=null;\r\n    function handleChange(){\r\n        if(validateEmail(email.value) && (name.value !== \"\")){\r\n            name.style = \"background: none\";\r\n            email.style = \"background: none\";\r\n            document.getElementById(\"OK\").disabled = false;\r\n            document.getElementById(\"OK\").style = \"background: green; color: white\";\r\n        }else {\r\n            email.style = \"background: red\";\r\n            document.getElementById(\"OK\").disabled = true;\r\n            document.getElementById(\"OK\").style = \"background: none; border: 1px black solid; color: black;\";\r\n        }\r\n    }\r\n    function eventHandler(){\r\n        if(timeout) clearTimeout(timeout);\r\n        timeout = setTimeout(handleChange, 200);\r\n    }\r\n    email.onkeyup = email.onclick = email.onkeydown = name.onkeyup = name.onclick = name.onkeydown = email.ondblclick = name.ondblclick = eventHandler;\r\n}\r\nfunction setupStarter() {\r\n    setupUpdater();\r\n    document.getElementById('email').focus();\r\n}\r\nexport {\r\n    setupStarter\r\n}","import React, {Component} from 'react';\r\nimport {contactstore,Main} from \"./App\";\r\nimport {db} from \"./firestore\";\r\nimport {setupStarter} from \"./FieldsCheck\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\n\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst NameInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 20px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst EmailInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 30px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst Button = styled.button`\r\n    background: ${props => props.ok ? \"green\" : \"white\"};\r\n    color: ${props => props.ok ? \"white\" : \"black\"};\r\n    border: ${props => props.cancel ? \"1px solid\" : \"none\"}\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    ${props => props.ok ? \"margin-left: 10px\" : \"margin-right: 10px\"};\r\n    border-radius: 5px;\r\n`;\r\nconst Buttons = styled.div`\r\n    width: 220px;\r\n    padding-left: 280px;\r\n`;\r\n\r\n\r\nclass NewContactForm extends Component{\r\n\r\n    componentDidMount(){\r\n        if(document.getElementById('email').value === \"\" || document.getElementById('name').value === \"\"){\r\n            document.getElementById(\"OK\").disabled = true;\r\n            document.getElementById(\"OK\").style = \"background: none; border: 1px black solid; color: black;\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        function AddContact() {\r\n            var newName =  document.getElementById(\"name\").value;\r\n            var newEmail = document.getElementById(\"email\").value;\r\n            db.collection(\"contacts\").add({\r\n                name: newName,\r\n                email: newEmail\r\n            })\r\n                .then(function (docRef) {\r\n                contactstore.addContacts(newName,newEmail,docRef.id);\r\n            })\r\n                .catch(function(error) {\r\n                    console.log(\"Error adding document: \", error);\r\n                });\r\n        }\r\n\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book/New contact</h4>\r\n                <Main>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} placeholder={\"Name\"}/>\r\n                        <EmailInput id={\"email\"} placeholder={\"Email\"} onClick={setupStarter} />\r\n                        <Buttons>\r\n                            <Link to={\"/test-task/\"}><Button cancel>Cancel</Button></Link>\r\n                            <Link to={\"/test-task/\"}><Button ok onClick={AddContact} id={\"OK\"}>OK</Button></Link>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n                </Main>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    NewContactForm\r\n}\r\n","import React,{Component} from \"react\";\r\nimport {contactstore, Main} from \"./App\";\r\nimport {db} from \"./firestore\";\r\nimport {setupStarter} from \"./FieldsCheck\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst NameInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 20px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst EmailInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 30px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst Button = styled.button`\r\n    background: ${props => props.ok ? \"green\" : \"white\"};\r\n    color: ${props => props.ok ? \"white\" : \"black\"};\r\n    border: ${props => props.cancel ? \"1px solid\" : \"none\"}\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    ${props => props.ok ? \"margin-left: 10px\" : \"margin-right: 10px\"};\r\n    border-radius: 5px;\r\n`;\r\nconst Buttons = styled.div`\r\n    width: 220px;\r\n    padding-left: 280px;\r\n`;\r\nconst DeleteButton = styled.button`\r\n    margin-left: 90px;\r\n    float: left;\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    border-radius: 5px;\r\n    background: red;\r\n    color: white;\r\n`;\r\n\r\n\r\nclass EditContactForm extends Component {\r\n    componentDidMount(){\r\n        if(document.getElementById('email').value === \"\" || document.getElementById('name').value === \"\"){\r\n            document.getElementById(\"OK\").disabled = true;\r\n            document.getElementById(\"OK\").style = \"background: none; border: 1px black solid; color: black;\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const idx = this.props.location.state.idx;\r\n\r\n\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book/Edit contact</h4>\r\n                <Main>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} defaultValue={contactstore.contacts[idx].name}/>\r\n                        <EmailInput id={\"email\"} defaultValue={contactstore.contacts[idx].email} onClick={setupStarter}/>\r\n                        <Link to={{\r\n                            pathname: \"/test-task/\",\r\n                        }}><DeleteButton onClick={() => this.delete(idx)}>Delete</DeleteButton></Link>\r\n                        <Buttons>\r\n                            <Link to={\"/test-task/\"}><Button cancel>Cancel</Button></Link>\r\n                            <Link to={\"/test-task/\"}><Button ok onClick={() => this.onEdit(idx)} id={\"OK\"}>Ok</Button></Link>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n                </Main>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n\r\n    delete = (idx) => {\r\n        db.collection(\"contacts\").doc(contactstore.contacts[idx].docRefId).delete();\r\n        contactstore.contacts.splice(idx, 1);\r\n    };\r\n\r\n    onEdit = (idx) => {\r\n        contactstore.contacts[idx].name = document.getElementById(\"name\").value;\r\n        contactstore.contacts[idx].email = document.getElementById(\"email\").value;\r\n        db.collection(\"contacts\").doc(contactstore.contacts[idx].docRefId).set({\r\n            name: contactstore.contacts[idx].name,\r\n            email: contactstore.contacts[idx].email\r\n        }).catch(function (error) {\r\n            console.error(\"Error editing document: \", error);\r\n        });\r\n    }\r\n}\r\n\r\nexport default EditContactForm;","import * as mobx from \"mobx\";\r\nimport {observable, decorate} from \"mobx\";\r\nimport {db} from \"./firestore\";\r\n\r\n class ObservableContactsStore {\r\n    contacts = [];\r\n\r\n    constructor() {\r\n        mobx.autorun(() => {\r\n            db.collection(\"contacts\").get().then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    this.addContacts(doc.data().name,doc.data().email,doc.id)\r\n                });\r\n            });\r\n        })\r\n    }\r\n\r\n    addContacts(name,email,docRefId){\r\n        this.contacts.push({\r\n            name: name,\r\n            email: email,\r\n            docRefId: docRefId\r\n        })\r\n    }\r\n\r\n\r\n}\r\ndecorate(ObservableContactsStore,{\r\n    contacts:observable\r\n});\r\n\r\nexport default ObservableContactsStore;","import React, {Component} from 'react';\r\nimport {observer} from \"mobx-react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {NewContactForm} from \"./NewContact\";\r\nimport EditContactForm from \"./EditContact\";\r\nimport {db} from \"./firestore\";\r\nimport ObservableContactsStore from \"./ObservableContactsStore\";\r\n\r\n\r\nconst contactstore = new ObservableContactsStore();\r\nconst searchstore = new ObservableContactsStore();\r\n\r\n\r\n\r\n\r\n\r\nconst Create = styled.div`\r\n        cursor: pointer;\r\n        text-align: center;\r\n        border: 1px solid;\r\n`;\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst Row = styled.div`\r\n    border: 1px solid;\r\n    padding: 5px;\r\n    &:first-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(n+3){\r\n    border-top: none;\r\n    }\r\n    &:last-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(2n){\r\n    background-color: lightgray;    \r\n    }\r\n`;\r\nconst SearchBox = styled.div`\r\n    margin-bottom: 10px;\r\n    border: 1px solid;\r\n    width: 600px;\r\n    font: bold 22px 'Arial';\r\n`;\r\nconst SearchInput = styled.input`\r\n        width: 587.437px;\r\n        height: 29.6px;\r\n        float: left;\r\n`;\r\nconst Magnifire = styled.div`\r\n        -webkit-transform: rotate(-45deg);\r\n        -moz-transform: rotate(-45deg);\r\n        -o-transform: rotate(-45deg);\r\n        transform: rotate(-45deg);\r\n        float:left;\r\n`;\r\nconst TableContainer = styled.div`\r\n    width: 600px;\r\n    \r\n`;\r\nconst Main = styled.div`\r\n    width: 600px;\r\n    margin: 50px auto;\r\n    \r\n    > h4 {\r\n        font: bold 22px 'Arial';\r\n        margin-bottom: 10px;\r\n        text-align: center;\r\n    }\r\n`;\r\nconst Delete = styled.div`\r\n    position: relative;\r\n    left: 560px;\r\n    top: -20px;\r\n`;\r\nconst DeleteBtn = styled.button`\r\n    background: none;\r\n    cursor: pointer;\r\n`;\r\nconst Name = styled.h5`\r\n    position: relative;\r\n    display: inline-block;\r\n    border-bottom: 2px dotted black;\r\n    font: bold 16px 'Arial';\r\n    > span {\r\n        visibility: hidden;\r\n        color: black;\r\n        width: 90px;\r\n        background: white;\r\n        text-align: center;\r\n        border-radius: 6px;\r\n        padding: 5px;\r\n        border: 1px solid black;\r\n        position: absolute;\r\n        z-index: 1;\r\n        top: -10px;\r\n        left: 110%;\r\n    }\r\n    &:hover > span {\r\n        visibility: visible;\r\n        font: 14px 'Arial';\r\n    }\r\n`;\r\nconst Email = styled.h6`\r\n        font: 14px 'Arial';\r\n`;\r\nconst Contact = styled.div`\r\n    float:left;\r\n`;\r\nconst StyledLink = styled(Link)`\r\n    text-decoration:none;\r\n    color: black;\r\n`;\r\n\r\n\r\n\r\nclass CreationButton extends Component{\r\n    render() {\r\n        return (\r\n            <Create>\r\n                <div>\r\n                    <StyledLink to={\"/test-task/new\"}>\r\n                        <h3> + </h3>\r\n                    </StyledLink>\r\n                </div>\r\n            </Create>\r\n        );\r\n    }\r\n}\r\n\r\nclass DeleteButton extends Component {\r\n    render() {\r\n        const {store, idx} = this.props;\r\n        const docRefId = store.contacts[idx].docRefId;\r\n\r\n        function deleteContact(idx) {\r\n            store.contacts.splice(idx, 1);\r\n            db.collection(\"contacts\").doc(docRefId).delete();\r\n        }\r\n\r\n        return (\r\n            <Delete>\r\n                <DeleteBtn onClick={() => deleteContact(idx)}>X</DeleteBtn>\r\n            </Delete>\r\n        );\r\n    }\r\n}\r\n\r\nconst TableRow = observer(class TableRow extends Component{\r\n    render() {\r\n        const {store, idx} = this.props;\r\n\r\n\r\n        return (\r\n            <Row>\r\n                <ClearFix>\r\n                <Contact>\r\n                    <div>\r\n                        <Name>\r\n                            <StyledLink to={{\r\n                                pathname: \"/test-task/edit\",\r\n                                state: {\r\n                                    idx: idx\r\n                                }}}>\r\n                                {store.contacts[idx].name}\r\n                            </StyledLink>\r\n                            <span> click to edit </span>\r\n                        </Name>\r\n                    </div>\r\n                    <div>\r\n                        <Email>{store.contacts[idx].email}</Email>\r\n                    </div>\r\n                </Contact>\r\n                </ClearFix>\r\n                <DeleteButton store = {store} idx={idx}/>\r\n            </Row>\r\n        );\r\n    }\r\n});\r\n\r\nclass Search extends Component{\r\n    render() {\r\n       let lookFor =  this.props.lookFor;\r\n        return (\r\n            <SearchBox>\r\n                <ClearFix>\r\n                <Magnifire className={\"left\"}>\r\n                    &#9906;\r\n                </Magnifire>\r\n                <SearchInput type={\"text\"} onClick={setupStarter} placeholder={'Search'}/>\r\n                </ClearFix>\r\n            </SearchBox>\r\n        );\r\n\r\n        function setupUpdater(){\r\n            let input = document.getElementsByTagName('input')[0], timeout=null;\r\n            function handleChange(){\r\n                lookFor(input.value);\r\n            }\r\n            function eventHandler(){\r\n                if(timeout) clearTimeout(timeout);\r\n                timeout = setTimeout(handleChange, 500);\r\n            }\r\n            input.onkeyup = eventHandler;\r\n        }\r\n        function setupStarter() {\r\n            setupUpdater();\r\n            document.getElementsByTagName('input')[0].focus();\r\n        }\r\n    }\r\n}\r\n\r\nconst Table = observer(class Table extends Component{\r\n\r\n    render() {\r\n\r\n        const store = this.props.store;\r\n        return (\r\n            <TableContainer>\r\n                {store.contacts.map((value, index) => <TableRow key={index} store={store} idx={index}/>)}\r\n            </TableContainer>\r\n        );\r\n    }\r\n});\r\n\r\nconst AddressBook = observer(class AddressBook extends Component {\r\n\r\n    state = {\r\n        lookingFor : \"\"\r\n    };\r\n\r\n    lookFor = (value) => {\r\n        this.setState({\r\n            lookingFor : value\r\n        });\r\n        searchstore.contacts = contactstore.contacts.filter((contact) => {\r\n            return contact.name.indexOf(this.state.lookingFor) > -1 || contact.email.indexOf(this.state.lookingFor) > -1\r\n\r\n        });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Main>\r\n                    <h4>My Address Book</h4>\r\n                    <Search lookFor={this.lookFor}/>\r\n                    <Table store = {(this.state.lookingFor !== \"\")?searchstore:contactstore}/>\r\n                    <CreationButton store = {contactstore}/>\r\n            </Main>\r\n        );\r\n    }\r\n});\r\n\r\nclass AddressBookSwitch extends Component{\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Switch>\r\n                    <Route exact path={\"/test-task/\"} component={AddressBook}/>\r\n                    <Route key={1} path={\"/test-task/edit\"} component={EditContactForm}/>\r\n                    <Route key={2} path={\"/test-task/new\"} component={NewContactForm}/>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass App extends Component{\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Route component={AddressBookSwitch}/>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\nexport {\r\n    contactstore,\r\n    Main,\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./App\"\r\n\r\nReactDOM.render( <App/>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}