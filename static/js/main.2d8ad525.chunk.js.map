{"version":3,"sources":["firestore.js","NewContact.js","EditContact.js","ObservableContactsStore.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firestore","settings","timestampsInSnapshots","ClearFix","styled","div","_templateObject","NameInput","input","_templateObject2","props","correct","EmailInput","_templateObject3","Button","button","_templateObject4","ok","disabled","cancel","Buttons","_templateObject5","StyledLink","Link","_templateObject6","NewContactForm","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","email","name","correctemail","correctname","regex","setState","test","_this2","react_default","a","createElement","Main","id","placeholder","onInput","checkName","document","getElementById","value","validateEmail","to","onClick","newName","newEmail","collection","add","then","docRef","contactstore","addContacts","catch","error","console","log","Component","EditContact_templateObject","EditContact_templateObject2","EditContact_templateObject3","EditContact_templateObject4","EditContact_templateObject5","DeleteButton","EditContact_templateObject6","_templateObject7","EditContactForm","delete","idx","doc","contacts","docRefId","splice","onEdit","set","location","EditContact_ClearFix","EditContact_NameInput","defaultValue","EditContact_EmailInput","EditContact_Buttons","EditContact_StyledLink","EditContact_DeleteButton","EditContact_Button","ObservableContactsStore","mobx","get","querySnapshot","forEach","data","push","decorate","observable","searchstore","Create","App_templateObject","App_templateObject2","Row","App_templateObject3","SearchBox","App_templateObject4","SearchInput","App_templateObject5","Magnifire","App_templateObject6","TableContainer","App_templateObject7","_templateObject8","Delete","_templateObject9","DeleteBtn","_templateObject10","Name","h5","_templateObject11","Email","h6","_templateObject12","Contact","_templateObject13","_templateObject14","StyledMail","_templateObject15","CreationButton","App_StyledLink","_this$props","store","deleteContact","TableRow","observer","_Component3","apply","arguments","inherits","createClass","key","_this$props2","App_ClearFix","pathname","href","App_DeleteButton","Search","lookFor","className","type","getElementsByTagName","timeout","handleChange","onkeyup","clearTimeout","setTimeout","setupUpdater","focus","Table","_Component5","map","index","App_TableRow","AddressBook","_Component6","_getPrototypeOf2","_len","length","args","Array","_key","concat","lookingFor","filter","contact","indexOf","App_Search","App_Table","App_CreationButton","AddressBookSwitch","Switch","Route","exact","path","component","App","BrowserRouter","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.2d8ad525.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyCq3TKPzX7Tscb3iHFUYGi1VupDxemijeM\",\r\n    authDomain: \"address-book-testtask.firebaseapp.com\",\r\n    databaseURL: \"https://address-book-testtask.firebaseio.com\",\r\n    projectId: \"address-book-testtask\",\r\n    storageBucket: \"address-book-testtask.appspot.com\",\r\n    messagingSenderId: \"1011142258800\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nconst db = firebase.firestore();\r\n\r\ndb.settings({\r\n    timestampsInSnapshots: true\r\n});\r\n\r\nexport default db;","import React, {Component} from 'react';\r\nimport {contactstore,Main} from \"./App\";\r\nimport db from \"./firestore\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\n\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst NameInput = styled.input`\r\n    width: 80%;\r\n    margin 10px auto;\r\n    height: 10px;\r\n    border: 1px solid ${props => props.correct? \"black\" : \"red\"};\r\n    padding: 5px;\r\n    outline: none;\r\n`;\r\nconst EmailInput = styled.input`\r\n    width: 80%;\r\n    margin 10px auto 20px;\r\n    height: 10px;\r\n    border: 1px solid ${props => props.correct? \"black\" : \"red\"};\r\n    padding: 5px;\r\n    outline: none;\r\n`;\r\nconst Button = styled.button`\r\n    background: ${props => props.ok ? props => props.disabled ? \"white\" : \"green\": \"white\"};\r\n    color: ${props => props.ok ? props => props.disabled ? \"black\" : \"white\" : \"black\"};\r\n    border: ${props => props.cancel ? \"1px solid\" : props => props.disabled ? \"1px solid\" : \"none\"}\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    margin-top: 10px;\r\n    margin-left: 10px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n`;\r\nconst Buttons = styled.div`\r\n    width: fit-content;\r\n    margin-left:35%\r\n    @media (max-width: 720px){\r\n        margin-left:-4%;\r\n    }\r\n    @media (min-width: 1280px){\r\n        margin-left:48%\r\n    }\r\n`;\r\nconst StyledLink = styled(Link)`\r\n    cursor:default;\r\n`;\r\nlet correct = {name: true, email: true};\r\n\r\nclass NewContactForm extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={\r\n            email:false,\r\n            name:false,\r\n            correctemail:true,\r\n            correctname:true,\r\n        }\r\n    }\r\n    validateEmail(email) {\r\n        var regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}]])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        this.setState({\r\n            email:regex.test(email),\r\n            correctemail:regex.test(email)\r\n        });\r\n    }\r\n    checkName(name) {\r\n        var regex = /\\S+/;\r\n            this.setState({\r\n            name:regex.test(name),\r\n                correctname:regex.test(name)\r\n        });\r\n    }\r\n    render() {\r\n\r\n        function AddContact() {\r\n            var newName =  document.getElementById(\"name\").value;\r\n            var newEmail = document.getElementById(\"email\").value;\r\n            db.collection(\"contacts\").add({\r\n                name: newName,\r\n                email: newEmail\r\n            })\r\n                .then(function (docRef) {\r\n                contactstore.addContacts(newName,newEmail,docRef.id);\r\n            })\r\n                .catch(function(error) {\r\n                    console.log(\"Error adding document: \", error);\r\n                });\r\n        }\r\n\r\n        return (\r\n            <Main >\r\n                <h4>My Address Book/New contact</h4>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} placeholder={\"Name\"} correct={this.state.correctname} onInput={() => this.checkName(document.getElementById('name').value)}/>\r\n                        <EmailInput id={\"email\"} placeholder={\"Email\"} correct={this.state.correctemail} onInput={() => this.validateEmail(document.getElementById('email').value)}/>\r\n                        <Buttons id={\"Buttons\"}>\r\n                                <StyledLink to={\"/test-task/\"}><Button cancel>Cancel</Button></StyledLink>\r\n                                <StyledLink to={\"/test-task/\"}><Button ok onClick={AddContact} disabled={!this.state.name || !this.state.email} id={\"OK\"}>OK</Button></StyledLink>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewContactForm;\r\n","import React,{Component} from \"react\";\r\nimport {contactstore, Main} from \"./App\";\r\nimport db from \"./firestore\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst NameInput = styled.input`\r\n    width: 80%;\r\n    margin 10px auto;\r\n    height: 10px;\r\n    border: 1px solid ${props => props.correct? \"black\" : \"red\"};\r\n    padding: 5px;\r\n    outline: none;\r\n`;\r\nconst EmailInput = styled.input`\r\n    width: 80%;\r\n    margin 10px auto 20px;\r\n    height: 10px;\r\n    border: 1px solid ${props => props.correct? \"black\" : \"red\"};\r\n    padding: 5px;\r\n    outline: none;\r\n`;\r\nconst Button = styled.button`\r\n    background: ${props => props.ok ? props => props.disabled ? \"white\" : \"green\": \"white\"};\r\n    color: ${props => props.ok ? props => props.disabled ? \"black\" : \"white\" : \"black\"};\r\n    border: ${props => props.cancel ? \"1px solid\" : props => props.disabled ? \"1px solid\" : \"none\"}\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    margin-top: 10px;\r\n    margin-left: 10px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    @media (max-width: 720px){\r\n      margin-left: ${props => props.ok ? \"0\":\"10px\"};\r\n    }\r\n`;\r\nconst Buttons = styled.div`\r\n    margin-left:0;\r\n    width: 100%\r\n    @media (max-width: 720px){\r\n      width: fit-content;\r\n    }\r\n`;\r\nconst DeleteButton = styled.button`\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    border-radius: 5px;\r\n    background: red;\r\n    color: white;\r\n    cursor: pointer;\r\n    margin-right:28%;\r\n    @media (min-width: 721px),(max-width: 990){\r\n      margin-right:15%;\r\n    }\r\n    @media (min-width: 991px),(max-width: 1279){\r\n      margin-right:20%;\r\n    }\r\n    @media (min-width: 1280px),(max-width: 1959){\r\n      margin-right:32%;\r\n    }\r\n    @media (max-width: 720px){\r\n      margin-right:0;\r\n    }\r\n`;\r\nconst StyledLink = styled(Link)`\r\n    cursor:default;\r\n`;\r\n\r\n\r\nclass EditContactForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={\r\n            email:true,\r\n            name:true,\r\n            correctemail:true,\r\n            correctname:true,\r\n        }\r\n    }\r\n    validateEmail(email) {\r\n        var regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        this.setState({\r\n            email:regex.test(email),\r\n            correctemail:regex.test(email)\r\n        });\r\n    }\r\n    checkName(name) {\r\n        var regex = /\\S+/;\r\n        this.setState({\r\n            name:regex.test(name),\r\n            correctname:regex.test(name)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const idx = this.props.location.state.idx;\r\n\r\n\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book/Edit contact</h4>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} defaultValue={contactstore.contacts[idx].name} correct={this.state.correctname} onInput={() => this.checkName(document.getElementById('name').value)}/>\r\n                        <EmailInput id={\"email\"} defaultValue={contactstore.contacts[idx].email} correct={this.state.correctemail} onInput={() => this.validateEmail(document.getElementById('email').value)}/>\r\n                        <Buttons>\r\n                            <StyledLink to={\"/test-task/\"}><DeleteButton onClick={() => this.delete(idx)}>Delete</DeleteButton></StyledLink>\r\n                            <StyledLink to={\"/test-task/\"}><Button cancel>Cancel</Button></StyledLink>\r\n                            <StyledLink to={\"/test-task/\"}><Button ok onClick={() => this.onEdit(idx)} id={\"OK\"} disabled={!this.state.name || !this.state.email}>Ok</Button></StyledLink>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n\r\n    delete = (idx) => {\r\n        db.collection(\"contacts\").doc(contactstore.contacts[idx].docRefId).delete();\r\n        contactstore.contacts.splice(idx, 1);\r\n    };\r\n\r\n    onEdit = (idx) => {\r\n        contactstore.contacts[idx].name = document.getElementById(\"name\").value;\r\n        contactstore.contacts[idx].email = document.getElementById(\"email\").value;\r\n        db.collection(\"contacts\").doc(contactstore.contacts[idx].docRefId).set({\r\n            name: contactstore.contacts[idx].name,\r\n            email: contactstore.contacts[idx].email\r\n        }).catch(function (error) {\r\n            console.error(\"Error editing document: \", error);\r\n        });\r\n    }\r\n}\r\n\r\nexport default EditContactForm;","import * as mobx from \"mobx\";\r\nimport {observable, decorate} from \"mobx\";\r\nimport db from \"./firestore\";\r\n\r\n class ObservableContactsStore {\r\n    contacts = [];\r\n\r\n    constructor() {\r\n        mobx.autorun(() => {\r\n            db.collection(\"contacts\").get().then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    this.addContacts(doc.data().name,doc.data().email,doc.id)\r\n                });\r\n            });\r\n        })\r\n    }\r\n\r\n    addContacts(name,email,docRefId){\r\n        this.contacts.push({\r\n            name: name,\r\n            email: email,\r\n            docRefId: docRefId\r\n        })\r\n    }\r\n\r\n\r\n}\r\ndecorate(ObservableContactsStore,{\r\n    contacts:observable\r\n});\r\n\r\nexport default ObservableContactsStore;","import React, {Component} from 'react';\r\nimport {observer} from \"mobx-react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport NewContactForm from \"./NewContact\";\r\nimport EditContactForm from \"./EditContact\";\r\nimport db from \"./firestore\";\r\nimport ObservableContactsStore from \"./ObservableContactsStore\";\r\n\r\n\r\nconst contactstore = new ObservableContactsStore();\r\nconst searchstore = new ObservableContactsStore();\r\n\r\n\r\n\r\n\r\n\r\nconst Create = styled.div`\r\n        cursor: pointer;\r\n        text-align: center;\r\n        border: 1px solid;\r\n        width: 100%;\r\n`;\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst Row = styled.div`\r\n    border-bottom: 1px solid;\r\n    border-top: 1px solid;\r\n    padding: 0.52%;\r\n    &:first-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(n+3){\r\n    border-top: none;\r\n    }\r\n    &:last-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(2n){\r\n    background-color: lightgray;    \r\n    }\r\n    height: 40px\r\n`;\r\nconst SearchBox = styled.div`\r\n    margin-bottom: 1.4%;\r\n    border: 1px solid;\r\n    width: 100%;\r\n    font: bold 22px 'Arial';   \r\n`;\r\nconst SearchInput = styled.input`\r\n        width: 90%;\r\n        height: 29.6px;\r\n        float: left;\r\n        outline: none;\r\n`;\r\nconst Magnifire = styled.div`\r\n        -webkit-transform: rotate(-45deg);\r\n        -moz-transform: rotate(-45deg);\r\n        -o-transform: rotate(-45deg);\r\n        transform: rotate(-45deg);\r\n        float:left;\r\n        margin: 0 0.52% 0 2px;\r\n`;\r\nconst TableContainer = styled.div`\r\n    width: 100%;\r\n    border-left:1px solid;\r\n    border-right:1px solid;\r\n`;\r\nconst Main = styled.div`\r\n    width: 50%;\r\n    margin: 3% auto;\r\n    > h4 {\r\n        font: bold 22px 'Arial';\r\n        margin-bottom: 10px;\r\n        text-align: left;\r\n    }\r\n    @media (max-width: 720px){\r\n        width: 250px\r\n    }\r\n    @media (min-width: 1280px){\r\n        width: 640px\r\n    }\r\n`;\r\nconst Delete = styled.div`\r\n    width: fit-content;\r\n    position: relative;\r\n    right: -95%;\r\n    top: -27.5px;\r\n`;\r\nconst DeleteBtn = styled.button`\r\n    background: none;\r\n    cursor: pointer;\r\n`;\r\nconst Name = styled.h5`\r\n    position: relative;\r\n    display: inline-block;\r\n    border-bottom: 2px dotted black;\r\n    font: bold 16px 'Arial';\r\n    > span {\r\n        visibility: hidden;\r\n        color: black;\r\n        width: 90px;\r\n        background: white;\r\n        text-align: center;\r\n        border-radius: 6px;\r\n        padding: 5px;\r\n        border: 1px solid black;\r\n        position: absolute;\r\n        z-index: 1;\r\n        top: -10px;\r\n        left: 110%;\r\n    }\r\n    &:hover > span {\r\n        visibility: visible;\r\n        font: 14px 'Arial';\r\n    }\r\n`;\r\nconst Email = styled.h6`\r\n        font: 14px 'Arial';\r\n`;\r\nconst Contact = styled.div`\r\n    float:left;\r\n`;\r\nconst StyledLink = styled(Link)`\r\n    text-decoration:none;\r\n    color: black;\r\n`;\r\nconst StyledMail = styled.a`\r\n    text-decoration:none;\r\n    color: black;\r\n`;\r\n\r\n\r\n\r\nclass CreationButton extends Component{\r\n    render() {\r\n        return (\r\n            <Create>\r\n                <StyledLink to={\"/test-task/new\"}>\r\n                    <h3> + </h3>\r\n                </StyledLink>\r\n            </Create>\r\n        );\r\n    }\r\n}\r\n\r\nclass DeleteButton extends Component {\r\n    render() {\r\n        const {store, idx} = this.props;\r\n        const docRefId = store.contacts[idx].docRefId;\r\n\r\n        function deleteContact(idx) {\r\n            store.contacts.splice(idx, 1);\r\n            db.collection(\"contacts\").doc(docRefId).delete();\r\n        }\r\n\r\n        return (\r\n            <Delete>\r\n                <DeleteBtn onClick={() => deleteContact(idx)}>X</DeleteBtn>\r\n            </Delete>\r\n        );\r\n    }\r\n}\r\n\r\nconst TableRow = observer(class TableRow extends Component{\r\n    render() {\r\n        const {store, idx} = this.props;\r\n\r\n        return (\r\n            <Row>\r\n                <ClearFix>\r\n                <Contact>\r\n                    <div>\r\n                        <Name>\r\n                            <StyledLink to={{\r\n                                pathname: \"/test-task/edit\",\r\n                                state: {\r\n                                    idx: idx\r\n                                }}}>\r\n                                {(store.contacts[idx].name === \"\")?\"________\":store.contacts[idx].name}\r\n                            </StyledLink>\r\n                            <span> click to edit </span>\r\n                        </Name>\r\n                    </div>\r\n                    <div>\r\n                        <Email><StyledMail href={\"mailto:\"+store.contacts[idx].email}>{store.contacts[idx].email}</StyledMail></Email>\r\n                    </div>\r\n                </Contact>\r\n                </ClearFix>\r\n                <DeleteButton store = {store} idx={idx}/>\r\n            </Row>\r\n        );\r\n    }\r\n});\r\n\r\nclass Search extends Component{\r\n    render() {\r\n       let lookFor =  this.props.lookFor;\r\n        return (\r\n            <SearchBox>\r\n                <ClearFix>\r\n                <Magnifire className={\"left\"}>\r\n                    &#9906;\r\n                </Magnifire>\r\n                <SearchInput type={\"text\"} onClick={setupStarter} placeholder={'Search'}/>\r\n                </ClearFix>\r\n            </SearchBox>\r\n        );\r\n\r\n        function setupUpdater(){\r\n            let input = document.getElementsByTagName('input')[0], timeout=null;\r\n            function handleChange(){\r\n                lookFor(input.value);\r\n            }\r\n            function eventHandler(){\r\n                if(timeout) clearTimeout(timeout);\r\n                timeout = setTimeout(handleChange, 500);\r\n            }\r\n            input.onkeyup = eventHandler;\r\n        }\r\n        function setupStarter() {\r\n            setupUpdater();\r\n            document.getElementsByTagName('input')[0].focus();\r\n        }\r\n    }\r\n}\r\n\r\nconst Table = observer(class Table extends Component{\r\n\r\n    render() {\r\n\r\n        const store = this.props.store;\r\n        return (\r\n            <TableContainer>\r\n                {store.contacts.map((value, index) => <TableRow key={index} store={store} idx={index}/>)}\r\n            </TableContainer>\r\n        );\r\n    }\r\n});\r\n\r\nconst AddressBook = observer(class AddressBook extends Component {\r\n\r\n    state = {\r\n        lookingFor : \"\"\r\n    };\r\n\r\n    lookFor = (value) => {\r\n        this.setState({\r\n            lookingFor : value\r\n        });\r\n        searchstore.contacts = contactstore.contacts.filter((contact) => {\r\n            return contact.name.indexOf(this.state.lookingFor) > -1 || contact.email.indexOf(this.state.lookingFor) > -1\r\n\r\n        });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Main>\r\n                    <h4>My Address Book</h4>\r\n                    <Search lookFor={this.lookFor}/>\r\n                    <Table store = {(this.state.lookingFor !== \"\")?searchstore:contactstore}/>\r\n                    <CreationButton store = {contactstore}/>\r\n            </Main>\r\n        );\r\n    }\r\n});\r\n\r\nclass AddressBookSwitch extends Component{\r\n    render() {\r\n        return (\r\n                <Switch>\r\n                    <Route exact path={\"/test-task/\"} component={AddressBook}/>\r\n                    <Route key={1} path={\"/test-task/edit\"} component={EditContactForm}/>\r\n                    <Route key={2} path={\"/test-task/new\"} component={NewContactForm}/>\r\n                </Switch>\r\n        );\r\n    }\r\n}\r\n\r\nclass App extends Component{\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Route component={AddressBookSwitch}/>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\nexport {\r\n    contactstore,\r\n    Main,\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./App\"\r\n\r\nReactDOM.render( <App/>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}