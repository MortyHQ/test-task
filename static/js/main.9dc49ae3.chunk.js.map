{"version":3,"sources":["firestore.js","NewContact.js","EditContact.js","ObservableContactsStore.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firestore","settings","timestampsInSnapshots","ClearFix","styled","div","_templateObject","NameInput","input","_templateObject2","EmailInput","_templateObject3","Button","button","_templateObject4","props","ok","cancel","Buttons","_templateObject5","NewContactForm","react_default","a","createElement","Main","id","defaultValue","Link","to","onClick","newName","document","getElementById","value","newEmail","collection","add","name","email","then","docRef","contactstore","addContacts","catch","error","console","Component","EditContact_templateObject","EditContact_templateObject2","EditContact_templateObject3","EditContact_templateObject4","EditContact_templateObject5","DeleteButton","_templateObject6","EditContactForm","delete","idx","doc","contacts","docRefId","splice","onEdit","set","_this2","this","location","state","EditContact_ClearFix","EditContact_NameInput","EditContact_EmailInput","pathname","EditContact_DeleteButton","EditContact_Buttons","EditContact_Button","ObservableContactsStore","_this","Object","classCallCheck","mobx","get","querySnapshot","forEach","data","push","decorate","observable","searchstore","Create","App_templateObject","App_templateObject2","Row","App_templateObject3","SearchBox","App_templateObject4","SearchInput","App_templateObject5","Magnifire","App_templateObject6","TableContainer","_templateObject7","_templateObject8","Delete","_templateObject9","DeleteBtn","_templateObject10","Name","h5","_templateObject11","Email","h6","_templateObject12","Contact","_templateObject13","StyledLink","_templateObject14","CreationButton","_this$props","store","deleteContact","TableRow","observer","_Component3","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","_this$props2","App_ClearFix","App_DeleteButton","Search","lookFor","className","type","getElementsByTagName","timeout","handleChange","onkeyup","clearTimeout","setTimeout","setupUpdater","focus","placeholder","Table","_Component5","map","index","App_TableRow","AddressBook","_Component6","_getPrototypeOf2","_len","length","args","Array","_key","call","concat","lookingFor","setState","filter","contact","indexOf","App_Search","App_Table","App_CreationButton","AddressBookSwitch","Switch","Route","exact","path","component","App","BrowserRouter","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.9dc49ae3.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyCq3TKPzX7Tscb3iHFUYGi1VupDxemijeM\",\r\n    authDomain: \"address-book-testtask.firebaseapp.com\",\r\n    databaseURL: \"https://address-book-testtask.firebaseio.com\",\r\n    projectId: \"address-book-testtask\",\r\n    storageBucket: \"address-book-testtask.appspot.com\",\r\n    messagingSenderId: \"1011142258800\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nconst db = firebase.firestore();\r\n\r\ndb.settings({\r\n    timestampsInSnapshots: true\r\n});\r\n\r\nexport {\r\n    db\r\n};","import React, {Component} from 'react';\r\nimport {contactstore,Main} from \"./App\";\r\nimport {db} from \"./firestore\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\n\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst NameInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 20px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst EmailInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 30px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst Button = styled.button`\r\n    background: ${props => props.ok ? \"green\" : \"white\"};\r\n    color: ${props => props.ok ? \"white\" : \"black\"};\r\n    border: ${props => props.cancel ? \"1px solid\" : \"none\"}\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    ${props => props.ok ? \"margin-left: 10px\" : \"margin-right: 10px\"};\r\n    border-radius: 5px;\r\n`;\r\nconst Buttons = styled.div`\r\n    width: 220px;\r\n    padding-left: 280px;\r\n`;\r\n\r\nclass NewContactForm extends Component{\r\n    render() {\r\n        function AddContact() {\r\n            var newName =  document.getElementById(\"name\").value;\r\n            var newEmail = document.getElementById(\"email\").value;\r\n            db.collection(\"contacts\").add({\r\n                name: newName,\r\n                email: newEmail\r\n            })\r\n                .then(function (docRef) {\r\n                contactstore.addContacts(newName,newEmail,docRef.id);\r\n            })\r\n                .catch(function(error) {\r\n                    console.error(\"Error adding document: \", error);\r\n                });\r\n        }\r\n\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book/New contact</h4>\r\n                <Main>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} defaultValue={\"Name\"}/>\r\n                        <EmailInput id={\"email\"} defaultValue={\"Email\"}/>\r\n                        <Buttons>\r\n                            <Link to={\"/test-task/\"}><Button cancel>Cancel</Button></Link>\r\n                            <Link to={\"/test-task/\"}><Button ok onClick={AddContact}>OK</Button></Link>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n                </Main>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    NewContactForm\r\n}\r\n","import React,{Component} from \"react\";\r\nimport {contactstore, Main} from \"./App\";\r\nimport {db} from \"./firestore\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst NameInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 20px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst EmailInput = styled.input`\r\n    width: 400px;\r\n    margin-bottom: 30px;\r\n    margin-left: 90px;\r\n    height: 10px;\r\n    border: 1px solid;\r\n    padding: 5px;\r\n`;\r\nconst Button = styled.button`\r\n    background: ${props => props.ok ? \"green\" : \"white\"};\r\n    color: ${props => props.ok ? \"white\" : \"black\"};\r\n    border: ${props => props.cancel ? \"1px solid\" : \"none\"}\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    ${props => props.ok ? \"margin-left: 10px\" : \"margin-right: 10px\"};\r\n    border-radius: 5px;\r\n`;\r\nconst Buttons = styled.div`\r\n    width: 220px;\r\n    padding-left: 280px;\r\n`;\r\nconst DeleteButton = styled.button`\r\n    margin-left: 90px;\r\n    float: left;\r\n    padding: 10px;\r\n    text-align: center;\r\n    width: 100px;\r\n    border-radius: 5px;\r\n    background: red;\r\n    color: white;\r\n`;\r\n\r\n\r\nclass EditContactForm extends Component {\r\n\r\n    render() {\r\n        const idx = this.props.location.state.idx;\r\n\r\n\r\n        //TODO:Fix-bug-with-deleting\r\n        return (\r\n            <Main>\r\n                <h4>My Address Book/Edit contact</h4>\r\n                <Main>\r\n                    <ClearFix>\r\n                        <NameInput id={\"name\"} defaultValue={contactstore.contacts[idx].name}/>\r\n                        <EmailInput id={\"email\"} defaultValue={contactstore.contacts[idx].email}/>\r\n                        <Link to={{\r\n                            pathname: \"/test-task/\",\r\n                        }}><DeleteButton onClick={() => this.delete(idx)}>Delete</DeleteButton></Link>\r\n                        <Buttons>\r\n                            <Link to={\"/test-task/\"}><Button cancel>Cancel</Button></Link>\r\n                            <Link to={\"/test-task/\"}><Button ok onClick={() => this.onEdit(idx)}>Ok</Button></Link>\r\n                        </Buttons>\r\n                    </ClearFix>\r\n                </Main>\r\n            </Main>\r\n\r\n        );\r\n    }\r\n\r\n    delete = (idx) => {\r\n        db.collection(\"contacts\").doc(contactstore.contacts[idx].docRefId).delete();\r\n        contactstore.contacts.splice(idx, 1);\r\n    };\r\n\r\n    onEdit = (idx) => {\r\n        contactstore.contacts[idx].name = document.getElementById(\"name\").value;\r\n        contactstore.contacts[idx].email = document.getElementById(\"email\").value;\r\n        db.collection(\"contacts\").doc(contactstore.contacts[idx].docRefId).set({\r\n            name: contactstore.contacts[idx].name,\r\n            email: contactstore.contacts[idx].email\r\n        }).catch(function (error) {\r\n            console.error(\"Error editing document: \", error);\r\n        });\r\n    }\r\n}\r\n\r\nexport default EditContactForm;","import * as mobx from \"mobx\";\r\nimport {observable, decorate} from \"mobx\";\r\nimport {db} from \"./firestore\";\r\n\r\n class ObservableContactsStore {\r\n    contacts = [];\r\n\r\n    constructor() {\r\n        mobx.autorun(() => {\r\n            db.collection(\"contacts\").get().then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    this.addContacts(doc.data().name,doc.data().email,doc.id)\r\n                });\r\n            });\r\n        })\r\n    }\r\n\r\n    addContacts(name,email,docRefId){\r\n        this.contacts.push({\r\n            name: name,\r\n            email: email,\r\n            docRefId: docRefId\r\n        })\r\n    }\r\n\r\n\r\n}\r\ndecorate(ObservableContactsStore,{\r\n    contacts:observable\r\n});\r\n\r\nexport default ObservableContactsStore;","import React, {Component} from 'react';\r\nimport {observer} from \"mobx-react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {NewContactForm} from \"./NewContact\";\r\nimport EditContactForm from \"./EditContact\";\r\nimport {db} from \"./firestore\";\r\nimport ObservableContactsStore from \"./ObservableContactsStore\";\r\n\r\n\r\nconst contactstore = new ObservableContactsStore();\r\nconst searchstore = new ObservableContactsStore();\r\n\r\n\r\n\r\n\r\n\r\nconst Create = styled.div`\r\n        cursor: pointer;\r\n        text-align: center;\r\n        border: 1px solid;\r\n`;\r\nconst ClearFix = styled.div`\r\n    &:before,&:after{\r\n     content: \" \";\r\n     display: table;\r\n     }\r\n     &:after{\r\n     clear: both;\r\n     }\r\n`;\r\nconst Row = styled.div`\r\n    border: 1px solid;\r\n    padding: 5px;\r\n    &:first-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(n+3){\r\n    border-top: none;\r\n    }\r\n    &:last-child{\r\n    border-bottom: none;\r\n    }\r\n    &:nth-child(2n){\r\n    background-color: lightgray;    \r\n    }\r\n`;\r\nconst SearchBox = styled.div`\r\n    margin-bottom: 10px;\r\n    border: 1px solid;\r\n    width: 600px;\r\n    font: bold 22px 'Arial';\r\n`;\r\nconst SearchInput = styled.input`\r\n        width: 587.437px;\r\n        height: 29.6px;\r\n        float: left;\r\n`;\r\nconst Magnifire = styled.div`\r\n        -webkit-transform: rotate(-45deg);\r\n        -moz-transform: rotate(-45deg);\r\n        -o-transform: rotate(-45deg);\r\n        transform: rotate(-45deg);\r\n        float:left;\r\n`;\r\nconst TableContainer = styled.div`\r\n    width: 600px;\r\n    \r\n`;\r\nconst Main = styled.div`\r\n    width: 600px;\r\n    margin: 50px auto;\r\n    \r\n    > h4 {\r\n        font: bold 22px 'Arial';\r\n        margin-bottom: 10px;\r\n        text-align: center;\r\n    }\r\n`;\r\nconst Delete = styled.div`\r\n    position: relative;\r\n    left: 560px;\r\n    top: -20px;\r\n`;\r\nconst DeleteBtn = styled.button`\r\n    background: none;\r\n    cursor: pointer;\r\n`;\r\nconst Name = styled.h5`\r\n    position: relative;\r\n    display: inline-block;\r\n    border-bottom: 2px dotted black;\r\n    font: bold 16px 'Arial';\r\n    > span {\r\n        visibility: hidden;\r\n        color: black;\r\n        width: 90px;\r\n        background: white;\r\n        text-align: center;\r\n        border-radius: 6px;\r\n        padding: 5px;\r\n        border: 1px solid black;\r\n        position: absolute;\r\n        z-index: 1;\r\n        top: -10px;\r\n        left: 110%;\r\n    }\r\n    &:hover > span {\r\n        visibility: visible;\r\n        font: 14px 'Arial';\r\n    }\r\n`;\r\nconst Email = styled.h6`\r\n        font: 14px 'Arial';\r\n`;\r\nconst Contact = styled.div`\r\n    float:left;\r\n`;\r\nconst StyledLink = styled(Link)`\r\n    text-decoration:none;\r\n    color: black;\r\n`;\r\n\r\n\r\n\r\nclass CreationButton extends Component{\r\n    render() {\r\n        return (\r\n            <Create>\r\n                <div>\r\n                    <StyledLink to={\"/test-task/new\"}>\r\n                        <h3> + </h3>\r\n                    </StyledLink>\r\n                </div>\r\n            </Create>\r\n        );\r\n    }\r\n}\r\n\r\nclass DeleteButton extends Component {\r\n    render() {\r\n        const {store, idx} = this.props;\r\n        const docRefId = store.contacts[idx].docRefId;\r\n\r\n        function deleteContact(idx) {\r\n            store.contacts.splice(idx, 1);\r\n            db.collection(\"contacts\").doc(docRefId).delete();\r\n        }\r\n\r\n        return (\r\n            <Delete>\r\n                <DeleteBtn onClick={() => deleteContact(idx)}>X</DeleteBtn>\r\n            </Delete>\r\n        );\r\n    }\r\n}\r\n\r\nconst TableRow = observer(class TableRow extends Component{\r\n    render() {\r\n        const {store, idx} = this.props;\r\n\r\n\r\n        return (\r\n            <Row>\r\n                <ClearFix>\r\n                <Contact>\r\n                    <div>\r\n                        <Name>\r\n                            <StyledLink to={{\r\n                                pathname: \"/test-task/edit\",\r\n                                state: {\r\n                                    idx: idx\r\n                                }}}>\r\n                                {store.contacts[idx].name}\r\n                            </StyledLink>\r\n                            <span> click to edit </span>\r\n                        </Name>\r\n                    </div>\r\n                    <div>\r\n                        <Email>{store.contacts[idx].email}</Email>\r\n                    </div>\r\n                </Contact>\r\n                </ClearFix>\r\n                <DeleteButton store = {store} idx={idx}/>\r\n            </Row>\r\n        );\r\n    }\r\n});\r\n\r\nclass Search extends Component{\r\n    render() {\r\n       let lookFor =  this.props.lookFor;\r\n        return (\r\n            <SearchBox>\r\n                <ClearFix>\r\n                <Magnifire className={\"left\"}>\r\n                    &#9906;\r\n                </Magnifire>\r\n                <SearchInput type={\"text\"} onClick={setupStarter} placeholder={'Search'}/>\r\n                </ClearFix>\r\n            </SearchBox>\r\n        );\r\n\r\n        function setupUpdater(){\r\n            let input = document.getElementsByTagName('input')[0], timeout=null;\r\n            function handleChange(){\r\n                lookFor(input.value);\r\n            }\r\n            function eventHandler(){\r\n                if(timeout) clearTimeout(timeout);\r\n                timeout = setTimeout(handleChange, 500);\r\n            }\r\n            input.onkeyup = eventHandler;\r\n        }\r\n        function setupStarter() {\r\n            setupUpdater();\r\n            document.getElementsByTagName('input')[0].focus();\r\n        }\r\n    }\r\n}\r\n\r\nconst Table = observer(class Table extends Component{\r\n\r\n    render() {\r\n\r\n        const store = this.props.store;\r\n        return (\r\n            <TableContainer>\r\n                {store.contacts.map((value, index) => <TableRow key={index} store={store} idx={index}/>)}\r\n            </TableContainer>\r\n        );\r\n    }\r\n});\r\n\r\nconst AddressBook = observer(class AddressBook extends Component {\r\n\r\n    state = {\r\n        lookingFor : \"\"\r\n    };\r\n\r\n    lookFor = (value) => {\r\n        this.setState({\r\n            lookingFor : value\r\n        });\r\n        searchstore.contacts = contactstore.contacts.filter((contact) => {\r\n            return contact.name.indexOf(this.state.lookingFor) > -1 || contact.email.indexOf(this.state.lookingFor) > -1\r\n\r\n        });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Main>\r\n                    <h4>My Address Book</h4>\r\n                    <Search lookFor={this.lookFor}/>\r\n                    <Table store = {(this.state.lookingFor !== \"\")?searchstore:contactstore}/>\r\n                    <CreationButton store = {contactstore}/>\r\n            </Main>\r\n        );\r\n    }\r\n});\r\n\r\nclass AddressBookSwitch extends Component{\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Switch>\r\n                    <Route exact path={\"/test-task/\"} component={AddressBook}/>\r\n                    <Route key={1} path={\"/test-task/edit\"} component={EditContactForm}/>\r\n                    <Route key={2} path={\"/test-task/new\"} component={NewContactForm}/>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass App extends Component{\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Route component={AddressBookSwitch}/>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\nexport {\r\n    contactstore,\r\n    Main,\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./App\"\r\n\r\nReactDOM.render( <App/>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}